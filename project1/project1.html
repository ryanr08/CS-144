<!DOCTYPE html>
<html lang="en">
<!-- ***IMPORTANT***: This page is autogenerated from a markdown file
         DO NOT EDIT THIS FILE DIRECTLY.
	 Your edits will disappear when this page is regenerated  -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        code{white-space: pre-wrap;}
        span.smallcaps{font-variant: small-caps;}
        span.underline{text-decoration: underline;}
        div.line-block{white-space: pre-line;}
        div.column{display: inline-block; vertical-align: top; width: 50%;}
        pre{background-color:#e7e7e7; border: solid 1px #000000; padding: 5px;}
        code{background-color:#e7e7e7; padding: 1px;}
        code.sourceCode > span { display: inline-block; line-height: 1.25; }
        code.sourceCode > span { color: inherit; text-decoration: inherit; }
        code.sourceCode > span:empty { height: 1.2em; }
        .sourceCode { overflow: visible; }
        code.sourceCode { white-space: pre; position: relative; }
        div.sourceCode { margin: 1em 0; }
        pre.sourceCode { margin: 0; }
        @media screen {
        div.sourceCode { overflow: auto; }
        }
        @media print {
        code.sourceCode { white-space: pre-wrap; }
        code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
        }
        pre.numberSource code
          { counter-reset: source-line 0; }
        pre.numberSource code > span
          { position: relative; left: -4em; counter-increment: source-line; }
        pre.numberSource code > span > a:first-child::before
          { content: counter(source-line);
            position: relative; left: -1em; text-align: right; vertical-align: baseline;
            border: none; display: inline-block;
            -webkit-touch-callout: none; -webkit-user-select: none;
            -khtml-user-select: none; -moz-user-select: none;
            -ms-user-select: none; user-select: none;
            padding: 0 4px; width: 4em;
            color: #aaaaaa;
          }
        pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
        div.sourceCode
          {   }
        @media screen {
        code.sourceCode > span > a:first-child::before { text-decoration: underline; }
        }
        code span.al { color: #ff0000; } /* Alert */
        code span.an { color: #008000; } /* Annotation */
        code span.at { } /* Attribute */
        code span.bu { } /* BuiltIn */
        code span.cf { color: #0000ff; } /* ControlFlow */
        code span.ch { color: #008080; } /* Char */
        code span.cn { } /* Constant */
        code span.co { color: #008000; } /* Comment */
        code span.cv { color: #008000; } /* CommentVar */
        code span.do { color: #008000; } /* Documentation */
        code span.er { color: #ff0000; font-weight: bold; } /* Error */
        code span.ex { } /* Extension */
        code span.im { } /* Import */
        code span.in { color: #008000; } /* Information */
        code span.kw { color: #0000ff; } /* Keyword */
        code span.op { } /* Operator */
        code span.ot { color: #ff4000; } /* Other */
        code span.pp { color: #ff4000; } /* Preprocessor */
        code span.sc { color: #008080; } /* SpecialChar */
        code span.ss { color: #008080; } /* SpecialString */
        code span.st { color: #008080; } /* String */
        code span.va { } /* Variable */
        code span.vs { color: #008080; } /* VerbatimString */
        code span.wa { color: #008000; font-weight: bold; } /* Warning */
        .sourceCode{overflow: auto;}
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body, {delimiters: [ {left: '\\[', right: '\\]', display: true}, {left: '$$', right: '$$', display: true}, {left: '\\(', right: '\\)', display: false}, {left: '$', right: '$', display: false} ]});"></script>
    <link rel="stylesheet" href="/libs/fonts/fonts.css">
    <link rel="stylesheet" href="/libs/css/pandoc.css">
    <title>CS144: Web Applications</title>
</head>
<body>
<h1 id="project-1-warm-up-and-basic-setup">Project 1: Warm-Up and Basic Setup</h1>
<h2 id="overview">Overview</h2>
<p>Throughout this quarter, you will be gradually developing a blogging Web site, which can be considered as a simplified version of <a href="https://wordpress.org/">WordPress</a>. The entire Web site will be built on the “MEAN stack” (MongoDB, Express, Angular, and Node.js) eventually, but the MEAN stack is hard to learn and appreciate unless you have some experience with a more “traditional” stack. In the first two projects, therefore, you will start development with a more “traditional” stack, based on MySQL and Apache Tomcat. Hopefully, this will give you enough experience to use the MEAN stack in later projects.</p>
<p>In Project 1, you are asked to perform the following tasks:</p>
<ol type="1">
<li>You will have to set up our project development environment on your machine, which is based on Docker.</li>
<li>You will have to brush up with Unix Command-Line Interface (CLI).</li>
<li>You will have to brush up with your MySQL knowledge.</li>
<li>You will have to brush up with Java programming.</li>
</ol>
<h2 id="part-a-setup-your-development-environment">Part A: Setup Your Development Environment</h2>
<p>Docker is a popular software development and deployment tool that implements <em>container technology</em>. It allows running multiple isolated OS environments on a single machine. As the first task of Project 1, you <strong>must</strong> go over the following tutorial and follow its step-by-step instruction:</p>
<ul>
<li><a href="../docker/index.html">Docker Setup and Basic Use</a></li>
</ul>
<p>The page will guide you setting up the Docker App on your machine and teach the most important concepts and commands for using Docker. For the first two projects, we will use the <code>tomcat</code> container that we prepared for this class. As described in the Docker tutorial, download the container image and run it on your machine through the following command (if not done yet) replacing <code>{your_shared_dir}</code> with your directory of choice, say, <code>/Users/cho/cs144/</code>):</p>
<pre class="term"><code>$ docker run -it -v {your_shared_dir}:/home/cs144/shared -p 8888:8888 --name tomcat junghoo/tomcat</code></pre>
<p>The container image has MariaDB (a “freer” version of MySQL), JDK, Apache Tomcat, and Python installed. Its underlying operating system is Linux, a variant of Unix. For the most part, therefore, you will be using a Unix shell through a terminal app. If you are not familiar with Unix shell commands, read the <a href="../unix/index.html">Unix Tutorial for Beginners</a> and learn the basic Unix commands. Your username inside the container is “cs144” with password “password”.</p>
<h2 id="part-b-unix-command-line-interface-cli">Part B: Unix Command-Line Interface (CLI)</h2>
<p>All of your project development should be done inside a Docker container that we provide, which is based on Linux operating system. For the most part, therefore, you will be using a Unix shell through a terminal app. If you are not familiar with Unix shell commands, read the <a href="../unix/index.html">Unix Tutorial for Beginners</a> and learn the basic Unix commands.</p>
<p>In playing with basic Unix commands, you can use the “tomcat” container created from the “junghoo/tomcat” image in Part A. As we explained in the <a href="../docker/index.html">Docker Setup and Basic Use</a> page, you can start the “tomcat” container using the <code>docker start</code> command:</p>
<pre class="term"><code>$ docker start -i tomcat</code></pre>
<p>Your username inside the container is “cs144” with password “password”. There are a few important <em>environment variables</em> that have been set within the “junghoo/tomcat” container:</p>
<ul>
<li><strong>JAVA_HOME</strong>: The <code>JAVA_HOME</code> environment variable points to the JDK installation directory, which is <code>/usr/lib/jvm/default-java</code> in our container.</li>
<li><strong>CATALINA_HOME</strong>: This variable specifies the location of the Tomcat installation, which is <code>/usr/share/tomcat9</code>.</li>
<li><strong>CATALINA_BASE</strong>: This variable specifies the base directory of a Tomcat instance, which is <code>/var/lib/tomcat9</code>.</li>
<li><strong>HOME</strong>: This variable specifies the location of your home directory, which is <code>/home/cs144</code>.</li>
</ul>
<p>You can refer to the values of these variables in your shell, like <code>$JAVA_HOME</code>, <code>$CATALINA_HOME</code>, etc. For example, if you issue the following <code>echo</code> command inside the container</p>
<pre class="term"><code>$ echo $JAVA_HOME
/usr/lib/jvm/default-java</code></pre>
<p>you will see the value of <code>JAVA_HOME</code>. To exit from the “tomcat” container, you just need to type <code>exit</code>:</p>
<pre class="term"><code>$ exit</code></pre>
<h2 id="part-c-mariadb-warm-up">Part C: MariaDB Warm-Up</h2>
<p>In this part, you get yourself familiar with the basic MySQL (more precisely, MariaDB) commands by creating and loading a table and issuing a few queries.</p>
<p>First, download the <a href="./actors.csv">actors.csv</a> file to the current directory of the container. To download any file, you can use the <code>wget</code> command in the container like the following:</p>
<pre class="term"><code>$ wget http://oak.cs.ucla.edu/classes/cs144/project1/actors.csv</code></pre>
<p>Then, read our <a href="../mysql/index.html">basic MySQL tutorial</a> to learn how you can interact with MySQL and issue SQL commands. In particular, the tutorial provides a brief explanation on <code>CREATE TABLE</code>, <code>LOAD DATA</code> and <code>SELECT</code> commands, which will be important to finish this part of the project. If you need to brush up on SQL commands other than the ones explained in the tutorial, you may find the <em>How Does This RDBMS Thing Work?</em> section of <a href="http://philip.greenspun.com/sql/introduction.html">SQL for Web Nerds</a> helpful.</p>
<p>As we explained in the MySQL tutorial, we have created the database “CS144” (note a database name is case sensitive) in the MySQL of our container. For your project work, use the MySQL user “cs144” (no password), which has full access to the “CS144” database. The MySQL user “root” with password “password” has full unrestricted access to everything and should be used only for special administrative operations, like creating new users and databases, etc.</p>
<p>Now take the following steps to create, load, and query a table in MySQL:</p>
<ol type="1">
<li><p>Create a table called “Actors” in the database “CS144”. The “Actors” table should have the following schema:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb6-1"><a href="#cb6-1"></a>Actors(name<span class="ch">:VARCHAR</span>(<span class="dv">40</span>), movie<span class="ch">:VARCHAR</span>(<span class="dv">80</span>), <span class="dt">year</span><span class="ch">:INTEGER</span>, <span class="kw">role</span><span class="ch">:VARCHAR</span>(<span class="dv">40</span>))</span></code></pre></div>
<p>Please note that database, table, and attribute names are <em>case sensitive</em> in MySQL, so <strong>use the above schema EXACTLY as it is, including the case.</strong></p></li>
<li><p>Load the downloaded <code>./actors.csv</code> file into the “Actors” table. Make sure that the double quotes enclosing some of the attributes in the data file are removed when they are loaded.</p></li>
<li><p>Retrieve some loaded data from the “Actors” table. In particular, write a query that returns the answer to this question: “Give me the names of all the actors in the movie ‘Die Another Day’.”</p></li>
</ol>
<p>Create a MySQL batch script file named <code>actors.sql</code> that shows every one of the above 3 steps. Again, the MySQL tutorial had a brief explanation on how to create and run MySQL batch script file. Make sure that your script is executable and has no error, meaning that we should be able to run your script by issuing the following command:</p>
<pre class="term"><code>$ mysql CS144 &lt; actors.sql</code></pre>
<p>You <strong>MUST</strong> use “<code>./actors.csv</code>” as the location of the data file inside your script. <strong>Do NOT use an absolute path.</strong> You may assume that there is no “Actors” table in the “CS144” database when we execute your script. If needed, use the <code>--</code> tag to make comments within your SQL script.</p>
<p><strong>Notes on CR/LF issue:</strong> If your host OS is Windows, you need to pay particular attention to how each line of a text file (including your script file) ends. By convention, Windows uses a pair of CR (carriage return) and LF (line feed) characters to terminate lines. On the other hand, Unix (including Linux and Mac OS X) uses only a LF character. Therefore, problems arise when you are feeding a text file generated from a Windows program to a Unix tool (such as <code>mysql</code>). Since the end of the line of the input file is different from what the tools expect, you may encounter unexpected behavior from these tools. If you encounter any wired error when you run your script, you may want to run the <code>dos2unix</code> command in the container on your Windows-generated text file. This command converts CR and LF at the end of each line in the input file to just LF. Type <code>dos2unix --help</code> to learn how to use this command.</p>
<h2 id="part-d-java-warm-up">Part D: Java Warm-Up</h2>
<p>If you are new to Java or if it has been a while since your last Java programming, first read <a href="../java/ctojava.pdf">A Crash Course from C++ to Java</a>. This excellent tutorial explains the basics of Java, including how you can name, compile, and run your Java program. (It is okay to skip the parts on BlueJ in the tutorial, since we will not be using it.) If you are quite familiar with Java, but you just want to brush up on minor details quickly, you may want to read <a href="../java/javaintro.pdf">slides on Java</a> instead. All basic tools needed for Java programming (e.g., <code>javac</code> and <code>java</code>) are available on our container.</p>
<p>Now implement a Java program that computes the <a href="http://en.wikipedia.org/wiki/SHA-2">SHA256 hash</a> over the content of an input file. SHA256 is a cryptographic one-way hash function that computes a 256 bit value from a sequence of bytes. Your Java program should satisfy the following requirements:</p>
<ol type="1">
<li><p>Your program should be implemented as a single Java class <code>ComputeSHA</code>. Your program should take the input filename as the first command line parameter. For example, a user should be able to execute your program like</p>
<pre class="term"><code>$ java ComputeSHA filename.txt</code></pre>
<p>where <code>filename.txt</code> is the name of the input file.</p></li>
<li><p>Given the input file, your program should compute the SHA256 hash value over the entire content of the file and print the computed hash value on screen as follows:</p>
<pre class="term"><code>addb41d9c1ea67ec0d6cc29dbb2f0248a3f077b7aedf6e5d3405fb462e4b955b</code></pre>
<p>Your program should print the above hash value if you provide the <a href="sample-input.txt">sample-input.txt</a> file as its input. Please ensure that the output is formatted exactly as above including its case. Print a newline at the end of the hash value. To test the accuracy of your implementation on other input files, you may compare your output against that of the <code>sha256sum</code> command. Please make sure that your program works for both text file and binary file <strong><em>of any size</em></strong>.</p></li>
</ol>
<p>In implementing your Java program, you may find the Java class <code>java.security.MessageDigest</code> useful, which provides a number of cryptographic hash functions including SHA256 and MD5. If you decide to use <code>MessageDigest</code> class, make sure you import <code>java.security.*</code> packages in your source code. If what we just said sounds Greek to you, again, read <a href="../java/ctojava.pdf">A Crash Course from C++ to Java</a>. To learn how you may use MessageDigest class in Java, try a query like “Java MessageDigest example” on Google and look at the top few results. They are likely to contain good example codes that show you how you can use the class. If you want to learn about basic file I/O in Java, see <a href="http://www.tutorialspoint.com/java/java_files_io.htm">Java File I/O tutorial</a>.</p>
<p><strong>Notes on editors for Java development:</strong> You can choose whatever editors you like for Java development. Options include:</p>
<ul>
<li><p>Unix text editors in the container: You may use any text editor in the container (<code>vi</code> and <code>nano</code> are available) to edit text files directly.</p></li>
<li><p>Your favorite text editor on the host: You may use your favorite text editor from your host OS (e.g., Sublime Text or Visual Studio Code) and transfer the edited file to the container through the shared directory. Remember that the directory that you specified as the shared directory from the host (e.g., <code>/Users/cho/cs144</code> from Mac) is available at <code>$HOME/shared</code> in the container. Again, be careful with the CR/LF issue if you use this option.</p></li>
<li><p>If you use Visual Studio Code as your editor, it supports “remote development in a container”, which makes it easy to edit and run codes in the container all within Visual Studio Code. Read <a href="https://code.visualstudio.com/docs/remote/containers">VS Code document on remote development inside a container</a> to learn how to set it up.</p></li>
</ul>
<h2 id="your-final-submission">Your Final Submission</h2>
<p>Your project must be submitted electronically before the deadline through GradeScope.</p>
<h3 id="what-to-submit">What to Submit</h3>
<p>The zip file that you submit must be named <code>project1.zip</code>, created using a zip compression utility (like using <code>zip</code> command in the container). You should submit this single file <strong>project1.zip</strong> that has the following packaging structure.</p>
<pre><code>project1.zip
 +- actors.sql
 +- ComputeSHA.java
 +- README.txt (Optionally)</code></pre>
<p>Each file or directory is as following:</p>
<ol type="1">
<li><strong>actors.sql:</strong> A copy of your MySQL batch script file from Part C of this project.
<ul>
<li>You <strong>must</strong> use <code>./actors.csv</code> as the location of the data file inside your script.</li>
<li>The “Actors” table <strong>must</strong> the provided schema exactly as it is including its case.</li>
</ul></li>
<li><strong>ComputeSHA.java:</strong> The source code of you Java program for SHA256 hash computation from Part D.</li>
<li>(Optional) <strong>README.txt:</strong> A (plain text) README file containing anything else you find worth mentioning.</li>
</ol>
<p>Please ensure that your submission is packaged correctly with all required files. Make sure that each file is correctly named (including its case) and <code>project1.zip</code> contains all files directly, not within a subdirectory. In other words, unzipping project1.zip should produce the files in the same directory as <code>project1.zip</code>. <strong>You may get as small as zero points for your work if the grader encounters an error due to incorrect packaging, missing files, and failure to follow our exact spec.</strong></p>
<p>To help you package your submission zip file, we prepared “a packaging script” <a href="p1_package">p1_package</a>. After downloading the script in the directory that has your Project 1 file, set its executable permission and run it as follows:</p>
<pre class="term"><code>$ wget http://oak.cs.ucla.edu/classes/cs144/project1/p1_package
$ chmod +x ./p1_package
$ ./p1_package
zip project1.zip create.sql load.sql
  adding: create.sql (deflated 63%)
  adding: load.sql (deflated 81%)
[SUCCESS] Created &#39;/home/cs144/p1/project1.zip&#39;</code></pre>
<p>When executed, our packaging script will collect all necessary (and optional) files located in the current directory and create the <code>project1.zip</code> file according to our specification that can be submitted to GradeScope.</p> 
</body>
</html>
